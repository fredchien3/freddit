  [1m[35m (1003.5ms)[0m  [1m[35mCREATE DATABASE "freddit_development" ENCODING = 'unicode'[0m
  [1m[35m (180.5ms)[0m  [1m[35mCREATE DATABASE "freddit_test" ENCODING = 'unicode'[0m
  [1m[35m (64.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8816030659138230885)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (3.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20220902141211)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying NOT NULL, "password_digest" character varying NOT NULL, "session_token" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_username" ON "users" ("username")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_session_token" ON "users" ("session_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20220902141211"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (3.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-09-02 14:15:07.644369"], ["updated_at", "2022-09-02 14:15:07.644369"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(8816030659138230885)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (6.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (6.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2022-09-02 10:32:44 -0400
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/frederick/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.0.3.1/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/frederick/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.0.3.1/lib/rails/templates/rails/welcome/index.html.erb (Duration: 18.8ms | Allocations: 603)
Completed 200 OK in 59ms (Views: 36.1ms | ActiveRecord: 0.0ms | Allocations: 3112)


Started GET "/users/new" for ::1 at 2022-09-02 10:32:49 -0400
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 363)
  Rendered layout layouts/application.html.erb (Duration: 46.3ms | Allocations: 7131)
Completed 200 OK in 61ms (Views: 48.3ms | ActiveRecord: 2.7ms | Allocations: 13100)


Started POST "/users" for ::1 at 2022-09-02 10:32:56 -0400
Processing by UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"fred", "password"=>"[FILTERED]"}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 1ms (ActiveRecord: 0.0ms | Allocations: 1269)



ActionController::InvalidAuthenticityToken - Can't verify CSRF token authenticity.:

Started POST "/__better_errors/c34e068ee627772b/variables" for ::1 at 2022-09-02 10:32:56 -0400
Started POST "/users" for ::1 at 2022-09-02 10:37:09 -0400
Processing by UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"fred", "password"=>"[FILTERED]"}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 1ms (ActiveRecord: 0.0ms | Allocations: 1215)



ActionController::InvalidAuthenticityToken - Can't verify CSRF token authenticity.:

Started POST "/__better_errors/ac6d765a754955ab/variables" for ::1 at 2022-09-02 10:37:10 -0400
Started POST "/users" for ::1 at 2022-09-02 10:41:17 -0400
Started POST "/users" for ::1 at 2022-09-02 10:41:17 -0400
Started POST "/users" for ::1 at 2022-09-02 10:41:17 -0400
Started GET "/users" for ::1 at 2022-09-02 10:41:17 -0400
Started GET "/users" for ::1 at 2022-09-02 10:41:17 -0400
  
ActionController::RoutingError (No route matches [GET] "/users"):
  
  
ActionController::RoutingError (No route matches [GET] "/users"):
  
Processing by UsersController#create as HTML
Processing by UsersController#create as HTML
Processing by UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"fred", "password"=>"[FILTERED]"}}
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"fred", "password"=>"[FILTERED]"}}
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"fred", "password"=>"[FILTERED]"}}
Can't verify CSRF token authenticity.
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 2ms (ActiveRecord: 0.0ms | Allocations: 2705)


Completed 422 Unprocessable Entity in 2ms (ActiveRecord: 0.0ms | Allocations: 2846)


Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 4ms (ActiveRecord: 0.0ms | Allocations: 4351)



ActionController::InvalidAuthenticityToken - Can't verify CSRF token authenticity.:


ActionController::InvalidAuthenticityToken - Can't verify CSRF token authenticity.:


ActionController::InvalidAuthenticityToken - Can't verify CSRF token authenticity.:

Started GET "/users" for ::1 at 2022-09-02 10:41:32 -0400
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/users"):
  
Started GET "/users/new" for ::1 at 2022-09-02 10:41:36 -0400
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 645)
  Rendered layout layouts/application.html.erb (Duration: 45.6ms | Allocations: 3884)
Completed 200 OK in 74ms (Views: 48.0ms | ActiveRecord: 2.7ms | Allocations: 9955)


Started POST "/users" for ::1 at 2022-09-02 10:41:41 -0400
Processing by UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"fred", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 3608)



NameError - uninitialized constant User::BCrypt
    self.password_digest = BCrypt::Password.create(password)
                           ^^^^^^:
  app/models/user.rb:24:in `password='
  app/controllers/users_controller.rb:8:in `create'

Started POST "/__better_errors/d7fe8431478fb6d9/variables" for ::1 at 2022-09-02 10:41:41 -0400
Started GET "/users/new" for ::1 at 2022-09-02 10:43:05 -0400
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1074)
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | Allocations: 4357)
Completed 200 OK in 37ms (Views: 25.1ms | ActiveRecord: 2.6ms | Allocations: 12000)


Started POST "/users" for ::1 at 2022-09-02 10:43:09 -0400
Processing by UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"ford", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (9.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "ford"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/users_controller.rb:9:in `create'
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.2ms | Allocations: 88)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | Allocations: 1243)
Completed 200 OK in 226ms (Views: 4.4ms | ActiveRecord: 10.3ms | Allocations: 10764)


  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Started POST "/users" for ::1 at 2022-09-02 10:44:03 -0400
Processing by UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"ford", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:10:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "ford"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:10:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:10:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/users_controller.rb:10:in `create'
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.3ms | Allocations: 129)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | Allocations: 1354)
Completed 200 OK in 17788ms (Views: 5.4ms | ActiveRecord: 2.8ms | Allocations: 84812)


Started POST "/users" for ::1 at 2022-09-02 10:44:25 -0400
Processing by UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"ford", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 4741ms (ActiveRecord: 2.2ms | Allocations: 48193)



SystemExit - exit:
  (rdbg)//mnt/c/appacademy/3. Rails/w7d5/freddit/app/controllers/users_controller.rb:1:in `create'
  app/controllers/users_controller.rb:9:in `create'

Started POST "/__better_errors/ea580fe1fc9d0de2/variables" for ::1 at 2022-09-02 10:44:30 -0400
Started GET "/users/new" for ::1 at 2022-09-02 10:53:35 -0400
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1071)
  Rendered layout layouts/application.html.erb (Duration: 15.0ms | Allocations: 4353)
Completed 200 OK in 34ms (Views: 23.4ms | ActiveRecord: 2.9ms | Allocations: 12022)


Started GET "/users" for ::1 at 2022-09-02 10:55:18 -0400
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/users"):
  
Started GET "/users/new" for ::1 at 2022-09-02 10:55:21 -0400
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 654)
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | Allocations: 3893)
Completed 200 OK in 39ms (Views: 15.0ms | ActiveRecord: 2.3ms | Allocations: 9990)


Started POST "/users" for ::1 at 2022-09-02 10:55:29 -0400
Processing by UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"ford", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:34:in `generate_unique_session_token'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/models/user.rb:34:in `generate_unique_session_token'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "ford"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "session_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "ford"], ["password_digest", "[FILTERED]"], ["session_token", "[FILTERED]"], ["created_at", "2022-09-02 14:55:29.554843"], ["updated_at", "2022-09-02 14:55:29.554843"]]
  â†³ app/controllers/users_controller.rb:9:in `create'
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:9:in `create'
Completed 500 Internal Server Error in 194ms (ActiveRecord: 7.0ms | Allocations: 11664)



NoMethodError - undefined method `login!' for #<UsersController:0x00000000004b50>
      login! @user
      ^^^^^^:
  app/controllers/users_controller.rb:10:in `create'

Started POST "/__better_errors/28b488c6522a1d98/variables" for ::1 at 2022-09-02 10:55:29 -0400
Started GET "/users/new" for ::1 at 2022-09-02 10:57:20 -0400
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.4ms | Allocations: 368)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | Allocations: 1598)
Completed 200 OK in 12ms (Views: 4.9ms | ActiveRecord: 2.6ms | Allocations: 4675)


Started POST "/users" for ::1 at 2022-09-02 10:57:25 -0400
Processing by UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"ford", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:34:in `generate_unique_session_token'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/models/user.rb:34:in `generate_unique_session_token'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "ford"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/users_controller.rb:9:in `create'
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.2ms | Allocations: 68)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | Allocations: 1111)
Completed 200 OK in 191ms (Views: 4.6ms | ActiveRecord: 1.1ms | Allocations: 8298)


Started POST "/users" for ::1 at 2022-09-02 11:00:10 -0400
Started GET "/users/new" for ::1 at 2022-09-02 11:00:10 -0400
Started GET "/users/show/1" for ::1 at 2022-09-02 11:00:10 -0400
  
ActionController::RoutingError (No route matches [GET] "/users/show/1"):
  
Processing by UsersController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"ford", "password"=>"[FILTERED]"}}
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.5ms | Allocations: 365)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | Allocations: 1617)
Completed 200 OK in 24ms (Views: 4.7ms | ActiveRecord: 4.2ms | Allocations: 19389)


  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:34:in `generate_unique_session_token'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/models/user.rb:34:in `generate_unique_session_token'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "ford"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/users_controller.rb:9:in `create'
Completed 422 Unprocessable Entity in 204ms (ActiveRecord: 4.0ms | Allocations: 25389)



ActiveRecord::RecordInvalid - Validation failed: Username has already been taken:
  app/controllers/users_controller.rb:9:in `create'

  [1m[36mUser Load (12.6ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Started GET "/users/1" for ::1 at 2022-09-02 11:01:11 -0400
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:19:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 1.9ms | Allocations: 424)
  Rendered layout layouts/application.html.erb (Duration: 14.8ms | Allocations: 4111)
Completed 200 OK in 42ms (Views: 24.4ms | ActiveRecord: 3.1ms | Allocations: 15452)


Started GET "/users/new" for ::1 at 2022-09-02 11:01:51 -0400
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 598)
  Rendered layout layouts/application.html.erb (Duration: 18.2ms | Allocations: 7368)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.0ms | Allocations: 8184)



NoMethodError - undefined method `logged_in?' for #<ActionView::Base:0x000000000047e0>
    '.freeze;@output_buffer.append=( logged_in? ? current_user.username : 'Guest' );@output_buffer.safe_append='
                                     ^^^^^^^^^^
Did you mean?  logger?:
  app/views/layouts/application.html.erb:13
  app/controllers/users_controller.rb:4:in `new'

Started POST "/__better_errors/ad4796f59e3dda42/variables" for ::1 at 2022-09-02 11:01:51 -0400
Started GET "/users/new" for ::1 at 2022-09-02 11:02:05 -0400

NoMethodError - undefined method `logged_in?' for ApplicationController:Class
  helper_method :current_user, logged_in?
                               ^^^^^^^^^^
Did you mean?  logger:
  app/controllers/application_controller.rb:2:in `<class:ApplicationController>'
  app/controllers/application_controller.rb:1:in `<top (required)>'
  app/controllers/users_controller.rb:1:in `<top (required)>'

Started POST "/__better_errors/f4530b9b1969508b/variables" for ::1 at 2022-09-02 11:02:05 -0400
Started GET "/users/new" for ::1 at 2022-09-02 11:02:08 -0400
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.4ms | Allocations: 365)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | Allocations: 2562)
Completed 200 OK in 13ms (Views: 6.7ms | ActiveRecord: 2.2ms | Allocations: 5692)


Started GET "/session/new" for ::1 at 2022-09-02 11:02:12 -0400
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 555)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 2595)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.5ms | Allocations: 3262)


Started POST "/session" for ::1 at 2022-09-02 11:02:17 -0400
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"ford", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `find_by_credentials'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.2ms | Allocations: 89)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | Allocations: 1896)
Completed 200 OK in 8ms (Views: 4.4ms | ActiveRecord: 0.4ms | Allocations: 3349)


Started POST "/session" for ::1 at 2022-09-02 11:02:52 -0400
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"ford", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `find_by_credentials'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.3ms | Allocations: 127)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 2149)
Completed 200 OK in 15ms (Views: 5.9ms | ActiveRecord: 2.3ms | Allocations: 6414)


Started POST "/session" for ::1 at 2022-09-02 11:03:05 -0400
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"ford", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `find_by_credentials'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.2ms | Allocations: 127)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | Allocations: 2149)
Completed 200 OK in 15ms (Views: 6.4ms | ActiveRecord: 2.2ms | Allocations: 6434)


Started POST "/session" for ::1 at 2022-09-02 11:03:27 -0400
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"ford", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `find_by_credentials'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.3ms | Allocations: 127)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | Allocations: 2148)
Completed 200 OK in 15ms (Views: 6.0ms | ActiveRecord: 2.9ms | Allocations: 6417)


Started POST "/session" for ::1 at 2022-09-02 11:03:38 -0400
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"ford", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `find_by_credentials'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.3ms | Allocations: 127)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | Allocations: 2148)
Completed 200 OK in 16ms (Views: 5.9ms | ActiveRecord: 2.4ms | Allocations: 6428)


Started POST "/session" for ::1 at 2022-09-02 11:03:51 -0400
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"ford", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "ford"], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `find_by_credentials'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/models/user.rb:34:in `generate_unique_session_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:48:in `reset_session_token!'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "ford"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:48:in `reset_session_token!'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["session_token", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:48:in `reset_session_token!'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "[FILTERED]"], ["updated_at", "2022-09-02 15:03:51.394176"], ["id", 1]]
  â†³ app/models/user.rb:48:in `reset_session_token!'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:48:in `reset_session_token!'
Redirected to http://localhost:3001/users/1
Completed 302 Found in 210ms (ActiveRecord: 7.0ms | Allocations: 9697)


Started GET "/users/1" for ::1 at 2022-09-02 11:03:51 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:19:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 0.6ms | Allocations: 163)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | Allocations: 2303)
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 0.5ms | Allocations: 4415)


Started GET "/users/1" for ::1 at 2022-09-02 11:06:24 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:19:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 0.6ms | Allocations: 163)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | Allocations: 2573)
Completed 200 OK in 12ms (Views: 8.9ms | ActiveRecord: 1.0ms | Allocations: 3826)


Started GET "/users/1" for ::1 at 2022-09-02 11:06:33 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:19:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 0.6ms | Allocations: 174)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 2564)
Completed 200 OK in 10ms (Views: 7.5ms | ActiveRecord: 0.6ms | Allocations: 3818)


Started GET "/session/new" for ::1 at 2022-09-02 11:06:38 -0400
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 569)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | Allocations: 2474)
Completed 200 OK in 9ms (Views: 8.6ms | ActiveRecord: 0.6ms | Allocations: 3107)


Started GET "/session/new" for ::1 at 2022-09-02 11:09:13 -0400
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 425)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 2938)
Completed 200 OK in 10ms (Views: 9.8ms | ActiveRecord: 0.2ms | Allocations: 3696)


Started GET "/session/new" for ::1 at 2022-09-02 11:09:30 -0400
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 528)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 3013)
Completed 200 OK in 10ms (Views: 10.0ms | ActiveRecord: 0.2ms | Allocations: 3772)


Started GET "/users/new" for ::1 at 2022-09-02 11:09:32 -0400
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 533)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | Allocations: 2639)
Completed 200 OK in 9ms (Views: 8.7ms | ActiveRecord: 0.1ms | Allocations: 3218)


Started GET "/session/new" for ::1 at 2022-09-02 11:09:33 -0400
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | Allocations: 226)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 1998)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.2ms | Allocations: 2249)


Started GET "/users/new" for ::1 at 2022-09-02 11:09:33 -0400
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.4ms | Allocations: 235)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 10.9ms | Allocations: 2012)
Completed 200 OK in 12ms (Views: 11.9ms | ActiveRecord: 0.2ms | Allocations: 2244)


Started GET "/session/new" for ::1 at 2022-09-02 11:09:34 -0400
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 250)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | Allocations: 2022)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.2ms | Allocations: 2251)


Started POST "/session" for ::1 at 2022-09-02 11:09:38 -0400
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"ford", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "ford"], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `find_by_credentials'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/models/user.rb:34:in `generate_unique_session_token'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:48:in `reset_session_token!'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "ford"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:48:in `reset_session_token!'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["session_token", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:48:in `reset_session_token!'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "[FILTERED]"], ["updated_at", "2022-09-02 15:09:38.763922"], ["id", 1]]
  â†³ app/models/user.rb:48:in `reset_session_token!'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:48:in `reset_session_token!'
Redirected to http://localhost:3001/users/1
Completed 302 Found in 190ms (ActiveRecord: 1.9ms | Allocations: 4848)


Started GET "/users/1" for ::1 at 2022-09-02 11:09:38 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:19:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 0.6ms | Allocations: 140)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | Allocations: 1950)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.4ms | Allocations: 2728)


Started POST "/session" for ::1 at 2022-09-02 11:09:40 -0400
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 1425)



NoMethodError - undefined method `[]' for nil:NilClass
      params[:user][:username],
                   ^^^^^^^^^^^:
  app/controllers/sessions_controller.rb:9:in `create'

Started POST "/__better_errors/487b5452088aa771/variables" for ::1 at 2022-09-02 11:09:40 -0400
Started GET "/users/1" for ::1 at 2022-09-02 11:10:01 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:19:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 0.7ms | Allocations: 172)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 2731)
Completed 200 OK in 9ms (Views: 7.2ms | ActiveRecord: 0.4ms | Allocations: 4059)


Started DELETE "/session" for ::1 at 2022-09-02 11:10:02 -0400
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/models/user.rb:34:in `generate_unique_session_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:48:in `reset_session_token!'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "ford"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:48:in `reset_session_token!'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["session_token", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:48:in `reset_session_token!'
  [1m[36mUser Update (0.8ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "[FILTERED]"], ["updated_at", "2022-09-02 15:10:02.440057"], ["id", 1]]
  â†³ app/models/user.rb:48:in `reset_session_token!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:48:in `reset_session_token!'
No template found for SessionsController#destroy, rendering head :no_content
Completed 204 No Content in 12ms (ActiveRecord: 1.7ms | Allocations: 4976)


Started GET "/users/1" for ::1 at 2022-09-02 11:10:03 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:19:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 0.1ms | Allocations: 20)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 1965)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 0.5ms | Allocations: 2705)


Started GET "/users/1" for ::1 at 2022-09-02 11:10:20 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:19:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 0.1ms | Allocations: 34)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | Allocations: 2426)
Completed 200 OK in 14ms (Views: 6.0ms | ActiveRecord: 2.2ms | Allocations: 7096)


Started GET "/session/new" for ::1 at 2022-09-02 11:10:22 -0400
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 568)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 2679)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.2ms | Allocations: 3353)


Started POST "/session" for ::1 at 2022-09-02 11:10:26 -0400
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"ford", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "ford"], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `find_by_credentials'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/models/user.rb:34:in `generate_unique_session_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:48:in `reset_session_token!'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "ford"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:48:in `reset_session_token!'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["session_token", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:48:in `reset_session_token!'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "[FILTERED]"], ["updated_at", "2022-09-02 15:10:26.844819"], ["id", 1]]
  â†³ app/models/user.rb:48:in `reset_session_token!'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:48:in `reset_session_token!'
Redirected to http://localhost:3001/users/1
Completed 302 Found in 191ms (ActiveRecord: 1.7ms | Allocations: 5347)


Started GET "/users/1" for ::1 at 2022-09-02 11:10:26 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:19:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 0.1ms | Allocations: 20)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | Allocations: 1864)
Completed 200 OK in 7ms (Views: 4.6ms | ActiveRecord: 0.4ms | Allocations: 2605)


Started DELETE "/session" for ::1 at 2022-09-02 11:10:27 -0400
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/models/user.rb:34:in `generate_unique_session_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:48:in `reset_session_token!'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "ford"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:48:in `reset_session_token!'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["session_token", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:48:in `reset_session_token!'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "[FILTERED]"], ["updated_at", "2022-09-02 15:10:27.800671"], ["id", 1]]
  â†³ app/models/user.rb:48:in `reset_session_token!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:48:in `reset_session_token!'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 1.2ms | Allocations: 5304)



ActionController::UrlGenerationError - No route matches {:action=>"show", :controller=>"users", :id=>nil}, missing required keys: [:id]:
  app/controllers/sessions_controller.rb:25:in `destroy'

Started POST "/__better_errors/450f059f468cd741/variables" for ::1 at 2022-09-02 11:10:27 -0400
Started DELETE "/session" for ::1 at 2022-09-02 11:10:35 -0400
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_user'
Redirected to http://localhost:3001/users/1
Completed 302 Found in 6ms (ActiveRecord: 0.9ms | Allocations: 2679)


Started GET "/users/1" for ::1 at 2022-09-02 11:10:35 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:19:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 0.1ms | Allocations: 34)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | Allocations: 2440)
Completed 200 OK in 10ms (Views: 5.6ms | ActiveRecord: 1.6ms | Allocations: 5654)


Started GET "/session/new" for ::1 at 2022-09-02 11:10:36 -0400
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | Allocations: 354)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 2464)
Completed 200 OK in 8ms (Views: 7.8ms | ActiveRecord: 0.2ms | Allocations: 3009)


Started POST "/session" for ::1 at 2022-09-02 11:10:40 -0400
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"ford", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "ford"], ["LIMIT", 1]]
  â†³ app/models/user.rb:20:in `find_by_credentials'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/models/user.rb:34:in `generate_unique_session_token'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:48:in `reset_session_token!'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "ford"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:48:in `reset_session_token!'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["session_token", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:48:in `reset_session_token!'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "[FILTERED]"], ["updated_at", "2022-09-02 15:10:40.479503"], ["id", 1]]
  â†³ app/models/user.rb:48:in `reset_session_token!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:48:in `reset_session_token!'
Redirected to http://localhost:3001/users/1
Completed 302 Found in 201ms (ActiveRecord: 1.9ms | Allocations: 5246)


Started GET "/users/1" for ::1 at 2022-09-02 11:10:40 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:19:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 0.1ms | Allocations: 20)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | Allocations: 1851)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.3ms | Allocations: 2592)


Started DELETE "/session" for ::1 at 2022-09-02 11:10:41 -0400
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_user'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/models/user.rb:34:in `generate_unique_session_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:48:in `reset_session_token!'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "ford"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:48:in `reset_session_token!'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["session_token", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:48:in `reset_session_token!'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "[FILTERED]"], ["updated_at", "2022-09-02 15:10:41.503165"], ["id", 1]]
  â†³ app/models/user.rb:48:in `reset_session_token!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:48:in `reset_session_token!'
Redirected to http://localhost:3001/users/1
Completed 302 Found in 9ms (ActiveRecord: 1.0ms | Allocations: 4741)


Started GET "/users/1" for ::1 at 2022-09-02 11:10:41 -0400
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:19:in `show'
  Rendering layout layouts/application.html.erb
  Rendering users/show.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 0.0ms | Allocations: 20)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:5:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | Allocations: 1957)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.3ms | Allocations: 2677)


